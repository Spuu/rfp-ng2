<div class="container">
    <div class='has-error' *ngIf='errorMessage'>{{errorMessage}}</div>
    <form *ngIf='active' class="col-md-11" (ngSubmit)="onSubmit()" #invoiceForm="ngForm">
        <div class="form-group col-md-4">
            <label for="name">Nazwa</label>
            <input type="text" class="form-control" required [(ngModel)]="model.name" name="name" #name="ngModel">
            <div [hidden]="name.valid || name.pristine" class="alert alert-danger">Name is required</div>
        </div>
        <div class="form-group col-md-2">
            <label for="date">Data</label>
            <p-calendar [(ngModel)]="model.documentDate" utc="true" dateFormat="dd.mm.yy" name="date" #date="ngModel"></p-calendar>
            <div [hidden]="date.valid || date.pristine" class="alert alert-danger">Date is required</div>
        </div>

        <div class="form-group col-md-2">
            <label for="counterparty">Kontrahent</label>
            <select class="form-control" required name="counterparty" [(ngModel)]="model.counterparty">
                <option *ngFor="let c of counterparties" [value]="c.uri">
                    {{c.name}}
                </option>
            </select>
        </div>

        <div class="form-group col-md-2">
            <label for="store">Sklep</label>
            <select class="form-control" required name="store" [(ngModel)]="model.store">
                <option *ngFor='let s of stores' [value]="s.uri">
                    {{s.name}}
                </option>
            </select>
        </div>

        <div class="form-group col-md-1">
            <input type="hidden" [value]="type" name="type">
            <button type="submit" class="btn btn-primary" [disabled]="!invoiceForm.form.valid">Zapisz</button>
        </div>
    </form>
</div>
